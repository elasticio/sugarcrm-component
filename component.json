{
    "title": "SugarCRM 7",
    "description": "SugarCRM REST API",
    "docsUrl": "https://github.com/elasticio/sugarcrm-component",
    "credentials": {
        "fields":{
            "baseUrl": {
                "label": "Your SugarCRM domain",
                "required": true,
                "viewClass": "TextFieldView",
                "note": "The DNS location of your SugarCRM instance",
                "placeholder": "example.demo.sugarcrm.eu"
            },
            "userName": {
                "label": "Your login",
                "required": true,
                "viewClass": "TextFieldView",
                "placeholder": "admin"
            },
            "password": {
                "label": "Your password",
                "required": true,
                "viewClass": "PasswordFieldView"
            },
            "clientID": {
                "label": "Your OAuth 2.0 Consumer Key",
                "required": true,
                "viewClass": "TextFieldView",
                "note": "See the 'Creating an app on a SugarCRM instance' section of the documentation at https://github.com/elasticio/sugarcrm-component for more details."
            },
            "clientSecret" : {
                "label": "Your OAuth 2.0 Consumer Secret",
                "required" : true,
                "viewClass": "PasswordFieldView",
                "note": "See the 'Creating an app on a SugarCRM instance' section of the documentation at https://github.com/elasticio/sugarcrm-component for more details."
            }
        }
    },
    "triggers": {
        "getEntitiesPolling": {
            "main": "./lib/triggers/getEntitiesPolling.js",
            "type": "polling",
            "title": "Fetch new and updated objects (getEntities - Polling)",
            "description": "Get SugarCRM objects which have recently been modified or created",
            "fields" : {
                "module" : {
                    "label": "SugarCRM module to fetch",
                    "required": true,
                    "viewClass": "SelectView",
                    "model": "modules",
                    "prompt": "Select a SugarCRM module"
                },
                "maxNum": {
                    "label": "Number of records to fetch",
                    "viewClass": "TextFieldView",
                    "prompt": "20",
                    "note": "Defaults to 20"
                }
            },
            "metadata": {
                "out": {}
            }
        },
        "getEntitiesWebhook": {
            "main": "./lib/triggers/getEntitiesWebhook.js",
            "type": "webhook",
            "title": "Fetch new and updated objects (getEntities - Webhook)",
            "description": "Get SugarCRM objects which have recently been modified or created",
            "dynamicMetadata": true,
            "fields" : {
                "module" : {
                    "label": "SugarCRM module to fetch",
                    "required": true,
                    "viewClass": "SelectView",
                    "model": "modules",
                    "prompt": "Select a SugarCRM module"
                }
            },
            "metadata": {
                "out": {}
            }
        },
        "getDeletedEntitiesWebhook": {
            "main": "./lib/triggers/getDeletedEntitiesWebhook.js",
            "type": "webhook",
            "title": "Fetch deleted objects (getDeletedEntities - Webhook)",
            "description": "Get SugarCRM objects which have recently been deleted",
            "fields" : {
                "module" : {
                    "label": "SugarCRM module to fetch",
                    "required": true,
                    "viewClass": "SelectView",
                    "model": "modules",
                    "prompt": "Select a SugarCRM module"
                }
            },
            "metadata": {
                "out": {
                    "type": "object",
                    "property": {
                        "id" : {
                            "type": "string",
                            "required": true,
                            "title": "ID of deleted item"
                        }
                    }
                }
            }
        }
    },
    "actions": {
        "lookupEntity" : {
            "title": "Lookup Entity",
            "main": "./lib/actions/lookupEntity.js",
            "description": "Given an id, fetches the corresponding object.",
            "fields" : {
                "module" : {
                    "label": "SugarCRM module to lookup",
                    "required": true,
                    "viewClass": "SelectView",
                    "model": "modules",
                    "prompt": "Select a SugarCRM module"
                }
            },
            "metadata": {
                "in": {
                    "type": "object",
                    "properties": {
                        "id": {
                            "title": "id",
                            "type": "string",
                            "required": true
                        }
                    }
                }
            }
        },
        "deleteEntity" : {
            "title": "Delete Entity",
            "main": "./lib/actions/deleteEntity.js",
            "description": "Given an id, deletes the corresponding object.",
            "fields" : {
                "module" : {
                    "label": "SugarCRM module to delete",
                    "required": true,
                    "viewClass": "SelectView",
                    "model": "modules",
                    "prompt": "Select a SugarCRM module"
                }
            },
            "metadata": {
                "in": {
                    "type": "object",
                    "properties": {
                        "id": {
                            "title": "id",
                            "type": "string",
                            "required": true
                        }
                    }
                }
            }
        },
        "upsertEntity" :{
            "main": "./lib/actions/upsertEntity.js",
            "title": "Upsert Entry",
            "description": "Update an existing entry if the id provided.  Otherwise create a new entry.",
            "dynamicMetadata": true,
            "fields" : {
                "module" : {
                    "label": "SugarCRM module to update",
                    "required": true,
                    "viewClass": "SelectView",
                    "model": "modules",
                    "prompt": "Select a SugarCRM module"
                }
            }
        }
    }
}
